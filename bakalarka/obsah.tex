%=========================================================================
% (c) Michal Bidlo, Bohuslav Křena, 2008


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Úvod}
%TODO Doplnit až na závěr

V~této práci se věnuji hlubokým zásobníkovým automatům konečného indexu. Snažím se omezit počet nevstupních symbolů na zásobníku a zkoumám sílu tohoto typu automatu.
Dále se zabývám ekvivalencí s~programovými gramatikami, což vede k~otázce, zda rodina jazyků přijímaná hlubokými zásobníkovými automaty konečného indexu s~jedním nevstupním 
symbolem tvoří nekonečnou hierarchii. 

%=========================================================================
%\subsubsection{Hluboký zásobníkový automat}


%=========================================================================
%\subsubsection{Hierarchie mezi kontextovými a bezkontextovými jazyky}
% význam, aplikace


%=========================================================================
%\subsubsection{Redukce v gramatikách a automatech}
% proč se redukuje

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Použité pojmy a definice}
% TODO Definice hlubokého zásobníkového automatu, programové gramatiky, maticové gramatiky. Zavedení konvencí.

\begin{Def} Hluboký zásobníkový automat konečného indexu je dle \cite{Meduna:DeepPDA} definován jako uspořádaná osmice $M = (Q,\Sigma,\Gamma, R, s, S, F, n)$, 
kde $Q$ je konečná množina stavů, $\Sigma$ vstupní abeceda, $\Gamma$ zásobníková abeceda, přičemž $\Sigma \subset \Gamma$,
$R$ je konečná množina pravidel, $s \in Q$ je počáteční stav, $S \in \Gamma$ počáteční symbol na zásobníku a $F \subset Q$ je množina
koncových stavů. $R$ je konečná množina pravidel typu $(m, q, A, p, v) \in \{1,2,3,\dots,n\} \times Q \times \Gamma \times Q \times {\Gamma}^+$. Zapisují se ve tvaru $mqA \rightarrow pv$. Symbol $n \in \{1,2,3,\dots\}$ označuje maximální počet nevstupních symbolů, které mohou být uložené na zásobníku.
Hloubka tohoto typu zásobníku není definovaná. Předpokládá se, že je rozšiřitelná tak, aby zásobník mohl přijmout až $n$ nevstupních symbolů.
\end{Def}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Hluboký zásobníkový automat s~jedním nevstupním symbolem}
%TODO Úvod k omezení počtu nevstupních symbolů, zavedení nového typu automatu


%=========================================================================
\section{Omezení počtu nevstupních symbolů}
% TODO Srovnání síly nového automatu s druhým typem - algoritmus

Omezím-li počet nevstupních symbolů zásobníkového automatu $M$ na jeden, mohu zavést nový automat $M_\#$ a porovnat jejich sílu. Převod automatu $M$ na  $M_\#$ popisuji algoritmem \ref{alg_PDA}. Simulaci provádím pomocí stavů, do kterých ukládám informace o~původním stavu a aktuálním obsahu zásobníku. To je možné díky konečnému počtu nevstupních symbolů na zásobníku, neboť jinak by takové řešení vedlo k~nekonečnému počtu stavů.

\begin{Alg} \label{alg_PDA}
Převod hlubokého zásobníkového automatu konečného indexu na ekvivalentní s~jedním nevstupním symbolem.

\begin{list}{}{\setlength\parsep{0cm} \setlength\itemsep{0cm} \setlength\leftmargin{1em}}
   \item Vstup: $M = (Q,\Sigma,\Gamma, R, s, S, F, n)$ 
   \item Výstup: $M_\# = (Q_\#,{\Sigma}_\#,{\Gamma}_\#, R_\#, s_\#,  S_\#, F_\#, n)$ \medskip
  
  \item ${\Sigma}_\# := \Sigma$
  \item ${\Gamma}_\# :=\{\#\} \cup \Sigma$
  \item $s_\# := <s,\#>$
  \item $S_\# := \# $ \medskip

  \item Pro každé $mqA \rightarrow pv \in R$, kde $v = b_0 B_1 b_1 B_2 b_2 \dots b_{j-1} B_{j} b_j$, $j \in \{0,1,2,3,\dots,n\}$, $b_0,b_i \in {\Sigma}^*$ a $B_i \in (\Gamma - \Sigma)$ pro všechna $i \in \{1,2,\dots,j\}$ : \smallskip

  \subitem A~pro každé $(u,z) \in (\Gamma - \Sigma)^* \times (\Gamma - \Sigma)^*$, kde $|u|=m-1$, $|z|\le n-m$ : \smallskip

  \subsubitem přidej do $Q_\#$ stavy $<q, u A z>$, $<p, u B_1 B_2 \dots B_{j-1} B_{j} z>$,
  \subsubitem přidej do $R_\#$ pravidlo $m <q, u A z> \# \rightarrow <p, u B_1 B_2 \dots B_{j-1} B_{j} z> b_0 \# b_1 \# b_2 \dots b_{j-1} \# b_j $,
  \subsubitem pokud $q \in F$, přidej do $F_\#$ stav $<q, u A z>$,
  \subsubitem pokud $p \in F$, přidej do $F_\#$ stav $<p, u B_1 B_2 \dots B_{j-1} B_{j} z>$.

\end{list}
\end{Alg}

Je zřejmé, že každý hluboký zásobníkový automat konečného indexu s~jedním nevstupním symbolem splňuje definici pro obecný hluboký zásobníkový automat konečného indexu. Tudíž spolu s~algoritmem \ref{alg_PDA} je prokázána ekvivalence těchto automatů.

%=========================================================================
\section{Ekvivalence s~programovými gramatikami konečného indexu}
% TODO Srovnání síly z programovými gramatikami - algoritmus

%TODO příklad převedení

Je dokázáno, že hluboké zásobníkové automaty konečného indexu jsou ekvivalentní s~maticovými gramatikami konečného indexu, tudíž třídy jazyků, které zásobníkový automat přijímá, tvoří nekonečnou hierarchii. \cite{Meduna:DeepPDA} Vzhledem k~výsledkům v~kapitole \ref{kap_PDA} je zřejmé, že tato vlastnost automatu zůstane i při omezení počtu nevstupních symbolů. Konstrukci důkazu tohoto tvrzení ukážu na ekvivalenci s~programovými gramatikami, přičemž je očividné, že maticové a programové gramatiky generují stejný jazyk.

Pro hluboký zásobníkový automat platí, že jestliže přijme slovo $w$, pak existuje taková komputace tohoto slova, která provádí pouze pop operace po první pop operaci. \cite{Meduna:DeepPDA} Toto tvrzení využiji v~následujícím důkazu, neboť zásobníkový automat, na kterém probíhají jen expanze funguje jako gramatika. Stačí proto ukázat, že automat je schopen na svém zásobníku simulovat všechny derivace gramatiky a opačně.


Algoritmus \ref{alg_PG} popisuje způsob, jak převést programovou gramatiku konečného indexu na hluboký zásobníkový automat konečného indexu s~jedním nevstupním symbolem. Stav automatu se v~tomto případě skládá ze dvou položek: označení pravidla, které se bude simulovat v~dalším kroku, a řetězce neterminálů, které jsou na zásobníku nahrazené symbolem $\#$. Automat přejde do koncového stavu, pokud jeho zásobník neobsahuje žádné neterminály.

\begin{Alg} \label{alg_PG}
Převod programové gramatiky konečného indexu na ekvivalentní hluboký zásobníkový automat konečného indexu s~jedním nevstupním symbolem.

\begin{list}{}{\setlength\parsep{0cm} \setlength\itemsep{0cm} \setlength\leftmargin{1em}}
  \item Vstup: $G = (T \cup N ,T,P,S)$ konečného indexu $n$
  \item Výstup: $M = (Q,\Sigma,\Gamma, R, s, S , F, n)$ \medskip
  
  \item ${\Sigma} := T$
  \item ${\Gamma} := T \cup \{\#\}$
  \item $s_\# := <\sigma>$
  \item $S_\# := \# $ \medskip

  \item Pro každé $p: S \rightarrow v, g(p) \in P$: 
  \subitem přidej do $R$ pravidlo $<\sigma>_1 \# \rightarrow <p, S> \#$ a do $Q$ stav $<p, S>$. \medskip

  \item Pro každé $q \in (Q \cup \{\epsilon\})$: 
  \subitem přidej do $F$ stav $<q, \epsilon>$. \medskip

  \item Pro každé $p: A \rightarrow v, g(p) \in P$,  kde $v=b_0 B_1 b_1 B_2 b_2 \dots b_{j-1} B_{j} b_j$, $j \in \{0,1,2,3,\dots,n\}$, $b_0,b_i \in T^*$ a $B_i \in N$ pro všechna $i \in \{1,2,\dots,j\}$ : \medskip
  \subitem Pro každé $(k,u,z) \in \{1,2,3,\dots,n-j+1\} \times N^* \times N^*$, kde $|u| = k-1$, $|z|  \le n-k$ : \medskip
  \subsubitem Pokud $g(p) = \emptyset$ :
  \subsubitem přidej do $Q$ stavy $<p,uAz>$, $<\epsilon, u B_1 B_2 \dots B_{j-1} B_{j} z>$,
  \subsubitem přidej do $R$ pravidlo $<p,uAz>_k \# \rightarrow <\epsilon, u B_1 B_2 \dots B_{j-1} B_{j} z> b_0 \# b_1 \# b_2 \dots b_{j-1} \# b_j$.\medskip
  \subsubitem Jinak pro každé $q \in g(p)$:
  \subsubitem přidej do $Q$ stavy $<p,uAz>$, $<q, u B_1 B_2 \dots B_{j-1} B_{j} z>$,
  \subsubitem přidej do $R$ pravidlo $<p,uAz>_k \# \rightarrow <q, u B_1 B_2 \dots B_{j-1} B_{j} z> b_0 \# b_1 \# b_2 \dots b_{j-1} \# b_j$.

\end{list}
\end{Alg}

Konstrukce důkazu o~převodu hlubokého zásobníkového automatu konečného indexu s~jedním nevstupním symbolem na programovou gramatiku konečného indexu je dohledatelná ve článku \cite{Krivka:RewritingSystems}, který srovnává programové gramatiky s~\#-Rewriting Systems. Programová gramatika simuluje každý krok zásobníkového automatu sekvencí několika derivací. Neterminály obsahují informace o~stavu zásobníku, aktuální pozici výskytu symbolu \# a celkovém počtu všech \# v~aktuální konfiguraci. Vlastní simulace probíhá následovně:

\begin{list}{}{\setlength\parsep{0cm} \setlength\itemsep{0cm} \setlength\leftmargin{1em}}
\item 1. Aktualizace pozice a celkového počtu nevstupních symbolů u~všech neterminálů.
\item 2. Expanze neterminálu na příslušné pozici.
\item 3. Odstranění pomocných stavů.
\end{list}

Tím jsem ukázala, že výše zavedený typ zásobníkového automatu je ekvivalentní s~programovými gramatikami. Z~toho vyplývá, že rodina jazyků přijímaná tímto zásobníkovým automatem tvoří nekonečnou hierarchii vycházející z~programových gramatik.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Hluboký zásobníkový automat v~normální formě}


% definice
% algoritmus
% ekvivalence

%=========================================================================
\section{Převod na normální formu}


\begin{Def}
Nechť $M = (Q,\Sigma,\Gamma, R, s, S , F)$ je hluboký zásobníkový automat
a $n$ je maximální hloubka expanze v~$M$.
Pak $M$ je v~normální formě, pokud každé pravidlo z~$R$ je v~jednom ze tvarů:

\begin{enumerate}
\renewcommand{\labelenumi}{(\roman{enumi})}
\item $mq\# \rightarrow pA$, kde $A \in (\Gamma - \Sigma)$, $m = n$, $p$, $q \in Q$
\item $mqA \rightarrow p\#$, kde $A \in (\Gamma - \Sigma)$, $1 \le m < n$, $p$, $q \in Q$
\item $mq\# \rightarrow p\#$, kde $1 \le m < n$, $p$, $q \in Q$
\item $mq\# \rightarrow p\#\#$, kde $1 \le m < n$, $p$, $q \in Q$
\item $mq\# \rightarrow pa$, kde $a \in {\Sigma}^+$, $1 \le m < n$, $p$, $q \in Q$

\end{enumerate}

\end{Def}


\begin{Alg}
Převod hlubokého zásobníkového automatu do normální formy.

\begin{list}{}{\setlength\parsep{0cm} \setlength\itemsep{0cm} \setlength\leftmargin{1em}}
   \item Vstup: $M = (Q,\Sigma,\Gamma, R, s, S, F)$ 
   \item Výstup: $M_{NF} = (Q_{NF}, \Sigma_{NF}, {\Gamma}_{NF}, R_{NF}, s_{NF},  S_{NF}, F_{NF})$ \medskip
  
  \item ${\Sigma}_{NF} := \Sigma$
  \item ${\Gamma}_{NF} :=\{\#\} \cup \Sigma$
  \item $s_{NF} := <s,S>$
  \item $S_{NF} := \#$ \medskip

  \item $k := \mathrm{max}(\{m \mid mqA \rightarrow pv \in R\}) $ \medskip

  \item Pro každé $(q,u,A) \in Q \times (\Gamma - \Sigma)^* \times (\Gamma - \Sigma)$, kde $|u| \le k$ : \medskip

  \subitem Pokud $|u| = k$, přidej do $R_{NF}$ pravidlo typu (i) :
  \subitem $k+1 <q,uA> \# \rightarrow <q,u> A$. \medskip

  \subitem Pokud $|u| < k$, přidej do $R_{NF}$ pravidlo typu (ii):
  \subitem $|uA| <q,u> A \rightarrow <q,uA> \#$. \medskip

  \item Pro každé $r : mqA \rightarrow p X_1 X_2 X_3 \dots X_j \in R$, kde $1 \le i \le j$, $X_i \in \Gamma$, a 
        pro každou dvojici $(u,v) \in (\Gamma - \Sigma)^* \times (\Gamma - \Sigma)^*$, kde $|uv| < k$ : \medskip

  \subitem Pokud $|u| = m - 1$, $|v| \le k-m$, přidej do $R_{NF}$ pravidlo typu (iii) :
  \subitem $m <q,uAv> \# \rightarrow <p,u (r : X_1 X_2 X_3 \dots X_j) v>\#$ . \medskip

  \subitem Pro každé $(i,q') \in \{1,2,3,\dots,j\} \times Q$: \medskip

  \subsubitem Pokud $i < j$, přidej do $R_{NF}$ pravidlo typu (iv) :
  \subsubitem $|u|+1 <q',u(r : X_i X_{i+1} \dots X_j)v> \# \rightarrow <q',u(r : X_i) (r: X_{i+1} \dots X_j)v> \#\# $. \medskip

  \subsubitem Pokud $X_i \in (\Gamma - \Sigma)$, přidej do $R_{NF}$ pravidlo typu (iii) :
  \subsubitem $|u|+1 <q',u (r : X_i) v> \# \rightarrow <q',u X_i v> \# $. \medskip

  \subsubitem Pokud $X_i \in \Sigma$, přidej do $R_{NF}$ pravidlo typu (v) :
  \subsubitem $|u|+1 <q',u (r : X_i) v> \# \rightarrow <q',uv> X_i $. \bigskip

  \item $Q_{NF} := \{p,q \mid mqA \rightarrow pv \in R_{NF}\} $
  \item $F_{NF} := \{<q, \epsilon> \mid  q \in F \}$


\end{list}
\end{Alg}

%=========================================================================
\section{Převod na normální formu se zachováním hloubky automatu}


\begin{Def}
Nechť $M = (Q,\Sigma,\Gamma, R, s, S , F)$ je hluboký zásobníkový automat
a $n$ je maximální hloubka expanze v~$M$.
Pak $M$ je v~normální formě, pokud každé pravidlo z~$R$ je v~jednom ze tvarů:

\begin{enumerate}
\renewcommand{\labelenumi}{(\roman{enumi})}
\item $mq\# \rightarrow p\#A$, kde $A \in (\Gamma - \Sigma)$, $m = n$, $p$, $q \in Q$
\item $mqA \rightarrow p\#$, kde $A \in (\Gamma - \Sigma)$, $1 \le m \le n$, $p$, $q \in Q$
\item $mq\# \rightarrow p\#$, kde $1 \le m \le n$, $p$, $q \in Q$
\item $mq\# \rightarrow p\#\#$, kde $1 \le m < n$, $p$, $q \in Q$
\item $mq\# \rightarrow pa$, kde $a \in {\Sigma}^+$, $1 \le m \le n$, $p$, $q \in Q$

\end{enumerate}

\end{Def}


\begin{Alg}
Převod hlubokého zásobníkového automatu do normální formy 2.

\begin{list}{}{\setlength\parsep{0cm} \setlength\itemsep{0cm} \setlength\leftmargin{1em}}
   \item Vstup: $M = (Q,\Sigma,\Gamma, R, s, S, F)$ 
   \item Výstup: $M_{NF} = (Q_{NF}, \Sigma_{NF}, {\Gamma}_{NF}, R_{NF}, s_{NF},  S_{NF}, F_{NF})$ \medskip
  
  \item \label{r1} ${\Sigma}_{NF} := \Sigma$
  \item ${\Gamma}_{NF} :=\{\#\} \cup \Sigma$
  \item $s_{NF} := <s,S>$
  \item $S_{NF} := \#$ \medskip

  \item $k := \mathrm{max}(\{m \mid mqA \rightarrow pv \in R\}) $ \medskip

  \item Pro každé $(q,u,A) \in Q \times (\Gamma - \Sigma)^* \times (\Gamma - \Sigma)$, kde $|u| \le k$ : \medskip

  \subitem Pokud $|u| = k$, přidej do $R_{NF}$ pravidlo typu (i) :
  \subitem $k <q,uA> \# \rightarrow <q,u> \# A$. \medskip

  \subitem Pokud $|u| < k$, přidej do $R_{NF}$ pravidlo typu (ii):
  \subitem $|uA| <q,u> A \rightarrow <q,uA> \#$. \medskip

  \item Pro každé $r : mqA \rightarrow p X_1 X_2 X_3 \dots X_j \in R$, kde $1 \le i \le j$, $X_i \in \Gamma$, a 
        pro každou dvojici $(u,v) \in (\Gamma - \Sigma)^* \times (\Gamma - \Sigma)^*$, kde $|uv| < k$ : \medskip

  \subitem Pokud $|u| = m - 1$, $|v| \le k-m$, přidej do $R_{NF}$ pravidlo typu (iii) :
  \subitem $m <q,uAv> \# \rightarrow <p,u (r : X_1 X_2 X_3 \dots X_j) v>\#$ . \medskip

  \subitem Pro každé $(i,q') \in \{1,2,3,\dots,j\} \times Q$: \medskip

  \subsubitem Pokud $i < j$ a zároveň $|uv|+1 = k$, přidej do $R_{NF}$ pravidlo typu (iii) :
  \subsubitem $|u|+1 <q',u(r : X_i X_{i+1} \dots X_j)v> \# \rightarrow <q',u(r : X_i) (r: X_{i+1} \dots X_j)v> \# $. \medskip

  \subsubitem Pokud $i < j$ a zároveň $|uv|+1 < k$, přidej do $R_{NF}$ pravidlo typu (iv) :
  \subsubitem $|u|+1 <q',u(r : X_i X_{i+1} \dots X_j)v> \# \rightarrow <q',u(r : X_i) (r: X_{i+1} \dots X_j)v> \#\# $. \medskip

  \subsubitem Pokud $X_i \in (\Gamma - \Sigma)$, přidej do $R_{NF}$ pravidlo typu (iii) :
  \subsubitem $|u|+1 <q',u (r : X_i) v> \# \rightarrow <q',u X_i v> \# $. \medskip

  \subsubitem Pokud $X_i \in \Sigma$, přidej do $R_{NF}$ pravidlo typu (v) :
  \subsubitem $|u|+1 <q',u (r : X_i) v> \# \rightarrow <q',uv> X_i $. \bigskip

  \item $Q_{NF} := \{p,q \mid mqA \rightarrow pv \in R_{NF}\} $
  \item $F_{NF} := \{<q, \epsilon> \mid  q \in F \}$


\end{list}
\end{Alg}

%=========================================================================
\section{Ekvivalence s~...}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Zobecněný hluboký zásobníkový automat}

% Definice

\begin{Def}
Zobecněný hluboký zásobníkový automat je uspořádaná sedmice $M = (Q,\Sigma,\Gamma, R, s, S, F)$, 
kde $Q$ je konečná množina stavů, $\Sigma$ vstupní abeceda, $\Gamma$ zásobníková abeceda, přičemž $\Sigma \subset \Gamma$,
$s \in Q$ je počáteční stav, $S \in \Gamma$ počáteční symbol na zásobníku a $F \subset Q$ je množina
koncových stavů. $R$ je konečná množina pravidel typu $(q, A, p, v) \in Q \times \Gamma \times Q \times {\Gamma}^+$, které píšeme ve tvaru $qA \rightarrow pv$. 
\end{Def}

\begin{Def}
Nechť $M = (Q,\Sigma,\Gamma, R, s, S, F)$ je zobecněný hluboký zásobníkový automat, $(w,q,uAz)$ a $(w,p,uvz)$ jeho dvě konfigurace a $qA \rightarrow pv \in R$ pravidlo. Pak lze provést přechod z~$(w,q,uAz)$ do $(w,p,uvz)$, píšeme $(w,q,uAz) {\Rightarrow} (w,p,uvz)$, právě tehdy když platí: $\{X \mid qX \rightarrow p'v' \in R$, kde $X \in \mathrm{alph}(u) \cap (\Gamma - \Sigma)$, $p' \in Q$, $v' \in {\Gamma}^+ \} = \emptyset$.
\end{Def}

%=========================================================================
\section{Ekvivalence se stavovými gramatikami}

% ekvivalence se stavovými gramatikami, povolení epsilon pravidel, co s toho vyplývá
% algoritmus a důkaz

%=========================================================================
\section{Omezení počtu nevstupních symbolů}

% odkaz na článek on state grammars, co s toho vyplývá
% algoritmus

\begin{Alg}
Převod zobecněného hlubokého zásobníkového automatu s~$\epsilon$-pravidly na ekvivalentní se třemi nevstupními symboly.

\begin{list}{}{\setlength\parsep{0cm} \setlength\itemsep{0cm} \setlength\leftmargin{1em}}
   \item Vstup: $M = (Q,\Sigma,\Gamma, R, s, S, F)$ 
   \item Výstup: $M' = (Q', \Sigma', {\Gamma}', R', s',  S', F')$ \medskip
  
  \item ...

\end{list}
\end{Alg}



%=========================================================================
\section{Omezení počtu stavů}

% odkaz na článek on state grammars
% algoritmus

\begin{Alg}
Převod zobecněného hlubokého zásobníkového automatu s~$\epsilon$-pravidly na ekvivalentní s redukcí na tři stavy.

\begin{list}{}{\setlength\parsep{0cm} \setlength\itemsep{0cm} \setlength\leftmargin{1em}}
   \item Vstup: $M = (Q,\Sigma,\Gamma, R, s, S, F)$ 
   \item Výstup: $M_{R} = (Q_{R}, \Sigma_{R}, {\Gamma}_{R}, R_{R}, s_{R},  S_{R}, F_{R})$ \medskip

   \item ${\Sigma}_{R} := \Sigma$
   \item ${\Gamma}_{R} := \Sigma \cup {\Gamma}_{R}'$
   \item $Q_{R} := \{s_\alpha, s_\beta, s_\gamma \}$
   \item $R_{R} := R_{\alpha} \cup R_{\beta} \cup R_{\gamma}$
   \item $s_{R} := s_{\alpha} $
   \item $S_{R} := <start> $
   \item $F_{R} := \{s_{\alpha}\} $ \medskip

   \item Nechť $Q = \{s_0, s_1, s_2, \dots,s_{|Q|}\}$, kde $s_0 = s$ je počáteční stav v~$M$. Nechť $s_{|Q|+1} = s_0$.\medskip

   \item Pro každé $qA \rightarrow p b_0 B_1 b_1 B_2 b_2 \dots b_{j-1} B_{j} b_j \in R$, kde $p, q \in Q$, $j \ge 0$, $b_0,b_1,\dots,b_j \in {\Sigma}^*$ a $A, B_1,B_2,\dots,B_j \in (\Gamma - \Sigma)$. 
         Nechť $k$ je absolutní hodnota rozdílu indexů stavů $p$ a $q$. 
         Pak přidej do $R_\alpha$ pravidla:

\begin{enumerate}
\renewcommand{\labelenumi}{(\roman{enumi})}

   \item $s_\alpha <start> \rightarrow s_\alpha <s_0, S> <s_0, \#>$,
   \item  $s_\alpha <q, A> \rightarrow s_\alpha b_0 <q, B_1> b_1 <q, B_2> b_2 \dots b_{j-1} <q, B_j> b_j$ pokud $p = q$,
   \item  $s_\alpha <q, A> \rightarrow s_\beta <k> b_0 <q, B_1> b_1 <q, B_2> b_2 \dots b_{j-1} <q, B_j> b_j$ pro $p \ne q$. 

\suspend{enumerate}

   \item Přidej do $R_\beta$ pravidla:

\resume{enumerate}{\setlength\leftmargin{1em}}
\renewcommand{\labelenumi}{(\roman{enumi})}

   \item $s_\beta <s_i, X> \rightarrow s_\beta <s_{i+1}, X>'$ pro každé $s_i \in Q$ a každé $X \in (\Gamma - \Sigma)$,
   \item $s_\beta <s_i, \#> \rightarrow s_\alpha <s_{i+1}, \#>_{next}$ pro každé $s_i \in Q$.

\suspend{enumerate}

   \item Přidej do $R_\alpha$ pravidla:

\resume{enumerate}{\setlength\leftmargin{1em}}
\renewcommand{\labelenumi}{(\roman{enumi})}

   \item $s_\alpha <j> \rightarrow s_\gamma <j - 1 > $ pro každé $j \in \{2,3,\dots,|Q|\}$,
   \item $s_\alpha <1> \rightarrow s_\alpha \epsilon $,
   \item $s_\alpha <s_i, \#>_{next} \rightarrow s_\gamma <s_{i}, \#>_{end}$ pro každé $s_i \in Q$,
   \item $s_\alpha <q, \#> \rightarrow s_\alpha \epsilon $ pro každé $q \in F$.

\suspend{enumerate}{\setlength\leftmargin{1em}}

   \item Přidej do množiny $R_\gamma$ pravidla:

\resume{enumerate}
\renewcommand{\labelenumi}{(\roman{enumi})}

   \item $s_\gamma <s_i, X>' \rightarrow s_\gamma <s_i, X> $ pro každé $s_i \in Q$ a každé $X \in (\Gamma - \Sigma)$,
   \item $s_\gamma <s_i, \#>_{next} \rightarrow s_\beta <s_i, \#>$ pro každé $s_i \in Q$,
   \item $s_\gamma <s_i, \#>_{end} \rightarrow s_\alpha <s_{i}, \#>$ pro každé $s_i \in Q$.

\end{enumerate}

   \item Pro každé $q \in Q$, $X \in (\Gamma - \Sigma)$, $j \in \{1,2,3,\dots,|Q|\}$ přidej do ${\Gamma}_{R}'$ symboly :
   \item $<start>, <j>, <q, X>, <q, X>', <q, \#>, <q, \#>_{next}, <q, \#>_{end}$.\medskip

\end{list}
\end{Alg}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\chapter{Aplikace \texttt{deeppda}}
\chapter{Aplikace}

\section{Návrh}

\section{Implementace}

\section{Uživatelská příručka}

\section{Ukázka vstupů a výstupů}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Závěr}
%TODO Dolnit až na konec



%=========================================================================
